# ê¸ˆì§€ ì‚¬í•­ (Absolutely Forbidden)

ì´ ë¬¸ì„œì— ëª…ì‹œëœ ì‚¬í•­ë“¤ì€ **ì ˆëŒ€ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤**.

## 1. í•„ë“œ ì£¼ì… (Field Injection) ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;  // í•„ë“œ ì£¼ì… ê¸ˆì§€!
    
    @Autowired
    private EmailService emailService;      // í•„ë“œ ì£¼ì… ê¸ˆì§€!
}
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
// ë°©ë²• 1: ìƒì„±ì ì£¼ì… (Lombok)
@Service
@RequiredArgsConstructor
public class UserService {
    private final UserRepository userRepository;
    private final EmailService emailService;
}

// ë°©ë²• 2: ìƒì„±ì ì£¼ì… (ìˆ˜ë™)
@Service
public class UserService {
    private final UserRepository userRepository;
    private final EmailService emailService;
    
    @Autowired
    public UserService(UserRepository userRepository, EmailService emailService) {
        this.userRepository = userRepository;
        this.emailService = emailService;
    }
}
```

**ê¸ˆì§€ ì´ìœ :** í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€, ìˆœí™˜ ì˜ì¡´ì„± ë°œê²¬ ëŠ¦ìŒ, ë¶ˆë³€ì„± ë³´ì¥ ë¶ˆê°€

---

## 2. SELECT * ì¿¼ë¦¬ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```sql
-- ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬
SELECT * FROM users WHERE status = 'ACTIVE';

-- JPQL
@Query("SELECT u FROM User u")
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```sql
-- ëª…ì‹œì  ì»¬ëŸ¼ ì§€ì •
SELECT id, username, email, status FROM users WHERE status = 'ACTIVE';

-- JPQLë„ ëª…ì‹œì ìœ¼ë¡œ
@Query("SELECT u.id, u.username, u.email FROM User u")
```

**ê¸ˆì§€ ì´ìœ :** ë¶ˆí•„ìš”í•œ ë°ì´í„° ì „ì†¡, ì„±ëŠ¥ ì €í•˜, ì»¬ëŸ¼ ë³€ê²½ ì‹œ ì˜¤ë¥˜

---

## 3. ë§¤ì§ ë„˜ë²„ í•˜ë“œì½”ë”© ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
if (user.getAge() >= 18) {  // 18ì€ ë¬´ì—‡?
    allow();
}

if (retryCount > 3) {  // 3ì€ ë¬´ì—‡?
    fail();
}

Thread.sleep(5000);  // 5000ì€ ë¬´ì—‡?
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
private static final int MINIMUM_AGE = 18;
private static final int MAX_RETRY_COUNT = 3;
private static final long TIMEOUT_MILLIS = 5000;

if (user.getAge() >= MINIMUM_AGE) {
    allow();
}

if (retryCount > MAX_RETRY_COUNT) {
    fail();
}

Thread.sleep(TIMEOUT_MILLIS);
```

**ê¸ˆì§€ ì´ìœ :** ê°€ë…ì„± ì €í•˜, ì˜ë¯¸ ë¶ˆëª…í™•, ìˆ˜ì • ì–´ë ¤ì›€

---

## 4. System.out.println() ì‚¬ìš© ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
System.out.println("User created: " + userId);
System.out.println("Error occurred: " + e.getMessage());
System.err.println("Critical error!");
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Slf4j
public class UserService {
    public void createUser() {
        log.info("User created: userId={}", userId);
        log.error("Error occurred: {}", e.getMessage(), e);
    }
}
```

**ê¸ˆì§€ ì´ìœ :** ë¡œê·¸ ë ˆë²¨ ì œì–´ ë¶ˆê°€, íŒŒì¼ ì €ì¥ ë¶ˆê°€, í”„ë¡œë•ì…˜ ì¶”ì  ë¶ˆê°€

---

## 5. Enum ORDINAL ì‚¬ìš© ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Enumerated(EnumType.ORDINAL)  // ìˆœì„œ ë³€ê²½ ì‹œ ë°ì´í„° ì˜¤ì—¼!
@Column(name = "status")
private UserStatus status;

// UserStatus: ACTIVE(0), INACTIVE(1), DELETED(2)
// ë§Œì•½ PENDINGì„ ACTIVE ì•ì— ì¶”ê°€í•˜ë©´?
// PENDING(0), ACTIVE(1), INACTIVE(2), DELETED(3)
// ê¸°ì¡´ ë°ì´í„°ì˜ 0ì€ PENDINGìœ¼ë¡œ í•´ì„ë¨! (ì›ë˜ ACTIVEì˜€ëŠ”ë°)
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Enumerated(EnumType.STRING)  // ë¬¸ìì—´ë¡œ ì €ì¥
@Column(name = "status", nullable = false, length = 20)
private UserStatus status;
```

**ê¸ˆì§€ ì´ìœ :** Enum ìˆœì„œ ë³€ê²½ ì‹œ ë°ì´í„° ì˜¤ì—¼, ë””ë²„ê¹… ì–´ë ¤ì›€

---

## 6. íŠ¸ëœì­ì…˜ ì—†ëŠ” ì“°ê¸° ì‘ì—… ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Service
public class UserService {
    // @Transactional ì—†ìŒ!
    public User createUser(UserCreateRequest request) {
        return userRepository.save(user);
    }
    
    // @Transactional ì—†ìŒ!
    public void updateUser(Long id, UserUpdateRequest request) {
        User user = userRepository.findById(id).orElseThrow();
        user.setName(request.getName());
        userRepository.save(user);
    }
}
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Service
@Transactional(readOnly = true)  // ê¸°ë³¸ì€ readOnly
public class UserService {
    
    @Transactional  // ì“°ê¸° ì‘ì—…ì€ ëª…ì‹œ
    public User createUser(UserCreateRequest request) {
        return userRepository.save(user);
    }
    
    @Transactional  // ì“°ê¸° ì‘ì—…ì€ ëª…ì‹œ
    public void updateUser(Long id, UserUpdateRequest request) {
        User user = userRepository.findById(id).orElseThrow();
        user.setName(request.getName());
        userRepository.save(user);
    }
}
```

**ê¸ˆì§€ ì´ìœ :** ë°ì´í„° ì¼ê´€ì„± ë³´ì¥ ë¶ˆê°€, ë¡¤ë°± ë¶ˆê°€, ì„±ëŠ¥ ì €í•˜

---

## 7. Entityë¥¼ ì§ì ‘ ë°˜í™˜ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@GetMapping("/{id}")
public ResponseEntity<User> getUser(@PathVariable Long id) {
    User user = userService.getUserById(id);
    return ResponseEntity.ok(user);  // Entity ì§ì ‘ ë…¸ì¶œ!
}
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@GetMapping("/{id}")
public ResponseEntity<ApiResponse<UserResponse>> getUser(@PathVariable Long id) {
    User user = userService.getUserById(id);
    UserResponse response = UserResponse.from(user);
    return ResponseEntity.ok(ApiResponse.success(response));
}
```

**ê¸ˆì§€ ì´ìœ :** 
- Entity ë‚´ë¶€ êµ¬ì¡° ë…¸ì¶œ
- ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ
- ë¶ˆí•„ìš”í•œ ë°ì´í„° ì „ì†¡
- API ë³€ê²½ ì‹œ ì˜í–¥ í¼

---

## 8. ë¹„ë°€ë²ˆí˜¸ í‰ë¬¸ ì €ì¥ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Column(name = "password")
private String password;  // í‰ë¬¸ ì €ì¥ ê¸ˆì§€!

user.setPassword(request.getPassword());  // ê·¸ëŒ€ë¡œ ì €ì¥ ê¸ˆì§€!
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Service
@RequiredArgsConstructor
public class UserService {
    private final PasswordEncoder passwordEncoder;
    
    public User createUser(UserCreateRequest request) {
        String encodedPassword = passwordEncoder.encode(request.getPassword());
        
        User user = User.builder()
            .username(request.getUsername())
            .password(encodedPassword)  // ì•”í˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ ì €ì¥
            .build();
        
        return userRepository.save(user);
    }
}
```

**ê¸ˆì§€ ì´ìœ :** ë³´ì•ˆ ì·¨ì•½ì , ë²•ì  ë¬¸ì œ, ê°œì¸ì •ë³´ ìœ ì¶œ

---

## 9. ë¯¼ê° ì •ë³´ ë¡œê¹… ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
log.info("User login: username={}, password={}", username, password);
log.info("Credit card: {}", creditCardNumber);
log.info("JWT token: {}", jwtToken);
log.info("API key: {}", apiKey);
log.info("ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸: {}", ssn);
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
log.info("User login: username={}", username);  // ë¹„ë°€ë²ˆí˜¸ ì œì™¸
log.info("Credit card: {}", maskCreditCard(creditCardNumber));  // ë§ˆìŠ¤í‚¹
log.info("JWT token: {}", jwtToken.substring(0, 10) + "...");  // ì¼ë¶€ë§Œ
```

**ê¸ˆì§€ ì´ìœ :** ê°œì¸ì •ë³´ ìœ ì¶œ, ë³´ì•ˆ ì·¨ì•½ì , ë²•ì  ë¬¸ì œ

---

## 10. EAGER ë¡œë”© ì‚¬ìš© ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@OneToMany(fetch = FetchType.EAGER)  // N+1 ë¬¸ì œ ë°œìƒ!
private List<UserProfile> profiles;

@ManyToOne(fetch = FetchType.EAGER)  // ë¶ˆí•„ìš”í•œ ì¡°ì¸!
private User user;
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@OneToMany(fetch = FetchType.LAZY)  // ê¸°ë³¸ì€ LAZY
private List<UserProfile> profiles;

@ManyToOne(fetch = FetchType.LAZY)
private User user;

// í•„ìš” ì‹œ Fetch Join ì‚¬ìš©
@Query("SELECT u FROM User u LEFT JOIN FETCH u.profiles WHERE u.id = :id")
Optional<User> findByIdWithProfiles(@Param("id") Long id);
```

**ê¸ˆì§€ ì´ìœ :** N+1 ë¬¸ì œ, ì„±ëŠ¥ ì €í•˜, ë¶ˆí•„ìš”í•œ ë°ì´í„° ë¡œë”©

---

## 11. SQL ë¬¸ìì—´ ì—°ê²° ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
// SQL Injection ì·¨ì•½ì !
String sql = "SELECT * FROM users WHERE username = '" + username + "'";
entityManager.createNativeQuery(sql);

@Query("SELECT u FROM User u WHERE u.username = '" + username + "'")
Optional<User> findByUsername(String username);
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Query("SELECT u FROM User u WHERE u.username = :username")
Optional<User> findByUsername(@Param("username") String username);
```

**ê¸ˆì§€ ì´ìœ :** SQL Injection ì·¨ì•½ì , ë³´ì•ˆ ë¬¸ì œ

---

## 12. ì˜ˆì™¸ ë¬´ì‹œ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
try {
    doSomething();
} catch (Exception e) {
    // ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ - ì˜ˆì™¸ ë¬´ì‹œ!
}

try {
    doSomething();
} catch (Exception e) {
    e.printStackTrace();  // ìš´ì˜ í™˜ê²½ì—ì„œ ì˜ë¯¸ ì—†ìŒ
}
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
try {
    doSomething();
} catch (Exception e) {
    log.error("ì‘ì—… ì‹¤íŒ¨: {}", e.getMessage(), e);
    throw new BusinessException(ErrorCode.OPERATION_FAILED, e);
}
```

**ê¸ˆì§€ ì´ìœ :** ë””ë²„ê¹… ë¶ˆê°€, ì˜¤ë¥˜ ì¶”ì  ë¶ˆê°€, ì ì¬ì  ë²„ê·¸

---

## 13. primitive íƒ€ì… (null ê°€ëŠ¥í•œ ê²½ìš°) ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Column(name = "age")
private int age;  // null ë¶ˆê°€ëŠ¥!

@Column(name = "balance")
private double balance;  // null ë¶ˆê°€ëŠ¥!
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Column(name = "age")
private Integer age;  // null ê°€ëŠ¥

@Column(name = "balance")
private BigDecimal balance;  // ê¸ˆì•¡ì€ BigDecimal
```

**ê¸ˆì§€ ì´ìœ :** null í‘œí˜„ ë¶ˆê°€, NullPointerException ìœ„í—˜

---

## 14. Double/Floatë¡œ ê¸ˆì•¡ í‘œí˜„ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
@Column(name = "price")
private Double price;  // ë¶€ë™ì†Œìˆ˜ì  ì˜¤ì°¨!

@Column(name = "amount")
private Float amount;  // ë¶€ë™ì†Œìˆ˜ì  ì˜¤ì°¨!
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```java
@Column(name = "price", precision = 19, scale = 4)
private BigDecimal price;  // ì •í™•í•œ ê³„ì‚°
```

**ê¸ˆì§€ ì´ìœ :** ë¶€ë™ì†Œìˆ˜ì  ì˜¤ì°¨, ê¸ˆì•¡ ê³„ì‚° ì˜¤ë¥˜

---

## 15. í•˜ë“œì½”ë”©ëœ ì‹œí¬ë¦¿ í‚¤ ğŸš«

### âŒ ì ˆëŒ€ ê¸ˆì§€
```java
private static final String SECRET_KEY = "my-secret-key-123";
private static final String API_KEY = "AIzaSyD...";
private static final String DB_PASSWORD = "password123";
```

### âœ… ë°˜ë“œì‹œ ì‚¬ìš©
```yaml
# application.yml
jwt:
  secret-key: ${JWT_SECRET_KEY}

cloud:
  aws:
    access-key: ${AWS_ACCESS_KEY}
    secret-key: ${AWS_SECRET_KEY}
```

```java
@Value("${jwt.secret-key}")
private String secretKey;
```

**ê¸ˆì§€ ì´ìœ :** ë³´ì•ˆ ì·¨ì•½ì , Git ì»¤ë°‹ ì‹œ ë…¸ì¶œ, ìš´ì˜/ê°œë°œ í™˜ê²½ ë¶„ë¦¬ ë¶ˆê°€

---

## ìš”ì•½: ì ˆëŒ€ ê¸ˆì§€ ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
ğŸš« [ ] í•„ë“œ ì£¼ì… (@Autowired on fields)
ğŸš« [ ] SELECT * ì¿¼ë¦¬
ğŸš« [ ] ë§¤ì§ ë„˜ë²„ í•˜ë“œì½”ë”©
ğŸš« [ ] System.out.println()
ğŸš« [ ] Enum ORDINAL
ğŸš« [ ] íŠ¸ëœì­ì…˜ ì—†ëŠ” ì“°ê¸° ì‘ì—…
ğŸš« [ ] Entity ì§ì ‘ ë°˜í™˜
ğŸš« [ ] ë¹„ë°€ë²ˆí˜¸ í‰ë¬¸ ì €ì¥
ğŸš« [ ] ë¯¼ê° ì •ë³´ ë¡œê¹…
ğŸš« [ ] EAGER ë¡œë”©
ğŸš« [ ] SQL ë¬¸ìì—´ ì—°ê²°
ğŸš« [ ] ì˜ˆì™¸ ë¬´ì‹œ
ğŸš« [ ] primitive íƒ€ì… (null ê°€ëŠ¥í•œ ê²½ìš°)
ğŸš« [ ] Double/Floatë¡œ ê¸ˆì•¡ í‘œí˜„
ğŸš« [ ] í•˜ë“œì½”ë”©ëœ ì‹œí¬ë¦¿ í‚¤
```

ì´ ê¸ˆì§€ ì‚¬í•­ë“¤ì„ **ì ˆëŒ€ë¡œ ìœ„ë°˜í•˜ì§€ ë§ˆì„¸ìš”!**

